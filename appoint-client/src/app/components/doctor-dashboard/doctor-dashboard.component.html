<div class="dashboard-container">
  <!-- Top Toolbar -->
  <header class="toolbar">
    <span>Doctor Dashboard</span>
    <span class="spacer"></span>
    <span>Welcome, Dr. {{ userName }}</span>
    <button class="btn btn-secondary" (click)="logout()">Logout</button>
  </header>

  <!-- Instructions -->
  <div class="instructions-card">
    <div class="card-content">
      <h3>ðŸ“… How to Manage Availability:</h3>
      <p>Click on any <strong>future date</strong> to set your availability. Click on green slots to delete them.</p>
      <ul>
        <li><span class="color-box green"></span> <strong>Green</strong> = Your Available Time Slots</li>
        <li><span class="color-box blue"></span> <strong>Blue</strong> = Confirmed Appointments</li>
      </ul>
      <p class="note"><small>Note: You can have multiple appointments within one availability slot as long as they don't overlap.</small></p>
    </div>
  </div>

  <!-- Calendar -->
  <div class="calendar-wrapper">
    <full-calendar [options]="calendarOptions"></full-calendar>
  </div>
</div>

<!-- Availability Modal -->
<div *ngIf="showAvailabilityModal" class="modal" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>Set Availability</h2>
    <div class="modal-body">
      <p><strong>Date:</strong> {{ selectedDate }}</p>

      <div class="form-field full-width">
        <label for="startTime">Start Time</label>
        <input type="time" id="startTime" [(ngModel)]="startTime" required>
      </div>

      <div class="form-field full-width">
        <label for="endTime">End Time</label>
        <input type="time" id="endTime" [(ngModel)]="endTime" required>
      </div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-secondary" (click)="closeModal()">Cancel</button>
      <button class="btn btn-primary" [disabled]="!startTime || !endTime" (click)="submitAvailability()">
        Add Availability
      </button>
    </div>
  </div>
</div>